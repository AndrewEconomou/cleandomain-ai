<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover" />
  <title>CleanDomain.ai ‚Äî Fair-Value Domain Comparison Engine</title>
  <meta name="description" content="Clean, transparent, and unbiased domain price comparison. Registrar reliability, 1-year vs renewal, 3-year totals, and more." />
  <link rel="stylesheet" href="assets/styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>

<body>
  <!-- ============================================================= -->
  <!-- HEADER -->
  <!-- ============================================================= -->
  <header class="site-header">
    <div class="container header-inner">
      <div class="brand">
        <div class="pulse-dot" aria-hidden="true"></div>
        <a href="/" class="brand-name">CleanDomain<span class="ai">.ai</span></a>
      </div>
      <nav class="nav">
        <button id="themeToggle" class="ghost-btn" aria-label="Toggle dark mode">Dark</button>
      </nav>
    </div>
  </header>

  <!-- ============================================================= -->
  <!-- HERO / SEARCH -->
  <!-- ============================================================= -->
  <main>
    <section class="hero">
      <div class="container">
        <h1 class="hero-title">Smarter Domain Acquisitions ‚Äî Powered by AI.</h1>
        <p class="sub">Transparent pricing. Reliable registrars. Real insights. Built for the next era of digital ownership.</p>

        <form id="searchForm" class="searchbar" onsubmit="return false;">
          <input id="domainInput" type="text" placeholder="Search a TLD or keyword (e.g., .ai, finance, crypto)" inputmode="text" spellcheck="false" />
          <button id="searchBtn" class="primary-btn" type="submit">Search</button>
        </form>

        <div class="micro-kpis">
          <div><strong>Real 3-Year Cost</strong><span>Registration + Renewal math done for you</span></div>
          <div><strong>Reliability Index</strong><span>Support, uptime, speed ‚Äî combined</span></div>
          <div><strong>Promo Honesty</strong><span>Teaser vs renewal clearly flagged</span></div>
        </div>

        <div id="searchResultMsg" class="search-msg"></div>
      </div>
    </section>

    <!-- ============================================================= -->
    <!-- SCORING + PROMPT ENGINE -->
    <!-- ============================================================= -->
    <section class="container" style="padding:2rem 1rem;">
      <h2>Mini-Engine: Domain Fair-Value Score</h2>
      <p>Type a domain below or use the search bar above ‚Äî we‚Äôll compute a quick, explainable score (demo).</p>

      <input id="scoreInput" type="text" placeholder="e.g., marketnews.ai" />
      <button id="scoreBtn" class="primary-btn">Score</button>

      <div id="scoreResult" style="margin-top:12px;font-weight:600;font-size:1.05em;"></div>

      <!-- === ACTION PANEL === -->
      <div id="actionPanel" class="action-panel">
        <h3>Next Steps for Your Domain</h3>
        <p>Choose an action to get a detailed report, build with AI, or list your domain for sale.</p>
        <div class="action-buttons">
          <button class="cta-btn" id="reportBtn">Get Full Report</button>
          <button class="cta-btn" id="buildBtn">Build My Site with AI</button>
          <button class="cta-btn" id="sellBtn">Sell or List This Domain</button>
        </div>
      </div>

      <!-- === HISTORY PANEL === -->
      <div id="historyPanel" class="history-panel">
        <h3>Recent Domain Scores</h3>
        <ul id="historyList"></ul>
      </div>

      <!-- === VIEW MODE === -->
      <div class="tone-switch">
        <label for="viewMode">View Mode:</label>
        <select id="viewMode">
          <option value="investor">Investor View</option>
          <option value="builder">Builder View</option>
        </select>
      </div>

      <!-- === SMART PROMPTS === -->
      <section class="quick-prompts" style="margin-top:2rem;">
        <h2>Try Smart Prompts</h2>
        <p class="muted">Click a suggestion to see how the engine thinks.</p>
        <div class="prompt-grid">
          <button class="glow-btn" onclick="runPrompt('Score just the brand ability of marketnews.ai')">Score Brand Ability</button>
          <button class="glow-btn" onclick="runPrompt('Score traffic potential and CPM for forexiq.ai')">Traffic & CPM</button>
          <button class="glow-btn" onclick="runPrompt('Estimate website build cost for fxai.ai')">Cost My Website</button>
          <button class="glow-btn" onclick="runPrompt('Give a strong business plan for exchangeiq.ai')">Business Plan</button>
          <button class="glow-btn" onclick="runPrompt('Recommend a domain plus website monetisation strategy')">Monetisation Strategy</button>
          <button class="glow-btn" onclick="runPrompt('Which registrar offers best reliability and renewal rates for .ai domains?')">Registrar Advice</button>
        </div>
        <div id="promptResult" class="engine-result" aria-live="polite"></div>
      </section>
    </section>
    <section class="calc-wrap" id="revenue-calc">
  <div class="container">
    <h2>Ad Revenue Calculator</h2>
    <p class="muted">Estimate revenue by CPM and daily visitors. (Tip: multiply by the average ad units per page for a closer estimate.)</p>

    <div class="calc-grid">
      <div class="calc-field">
        <label for="calcVisitors">Daily Visitors</label>
        <input id="calcVisitors" type="number" min="0" placeholder="e.g. 10000">
      </div>
      <div class="calc-field">
        <label for="calcCPM">CPM (USD)</label>
        <input id="calcCPM" type="number" min="0" step="0.01" placeholder="e.g. 20">
      </div>
      <div class="calc-field">
        <label for="calcAdsPerVisit">Ad Units per Visit</label>
        <input id="calcAdsPerVisit" type="number" min="1" step="1" value="1">
      </div>
      <div class="calc-field">
        <button id="calcRun" class="primary-btn glass-reflect">Calculate</button>
      </div>
    </div>

    <div id="calcResult" class="engine-result" aria-live="polite"></div>
  </div>
</section>

    <!-- ============================================================= -->
    <!-- REGISTRAR TABLE -->
    <!-- ============================================================= -->
    <section class="table-wrap">
      <div class="container">
        <div class="table-head">
          <h2>Registrar Snapshot (Demo Data)</h2>
          <p class="muted">Placeholder demo ‚Äî live API integration coming soon.</p>
        </div>
        <div class="table-scroll">
          <table class="cd-table" aria-describedby="demoTableHelp">
            <thead>
              <tr>
                <th>Registrar</th>
                <th>1-Year</th>
                <th>Renewal</th>
                <th>3-Year Total</th>
                <th>Privacy</th>
                <th>Reliability</th>
                <th>Promo</th>
                <th>Last Update</th>
              </tr>
            </thead>
            <tbody id="tableBody"></tbody>
          </table>
        </div>
        <p id="demoTableHelp" class="muted small">‚Äò3-Year Total‚Äô = Year-1 + 2√óRenewal. Reliability blends support, uptime, trust.</p>
      </div>
    </section>

    <!-- ============================================================= -->
    <!-- DISCLAIMER -->
    <!-- ============================================================= -->
    <section class="disclaimer">
      <div class="container">
        <div class="notice">
          <strong>Pricing Notice:</strong> Some registrars advertise low first-year teaser rates. We always show <em>renewal</em> and <em>3-year totals</em> so you won‚Äôt get trapped by hidden long-term costs.
        </div>
      </div>
    </section>
  </main>

  <!-- ============================================================= -->
  <!-- FULL REPORT MODAL -->
  <!-- ============================================================= -->
  <div id="reportModal" class="modal-overlay" style="display:none;">
    <div class="modal">
      <button id="closeModal" class="close-btn" aria-label="Close">√ó</button>
      <h2>Request Your Full Domain Report</h2>
      <p class="muted">Enter your details below and our AI will prepare a detailed valuation & insights report.</p>

      <form id="reportForm" class="report-form">
        <label for="reportName">Name</label>
        <input id="reportName" type="text" placeholder="Your name" required>

        <label for="reportEmail">Email</label>
        <input id="reportEmail" type="email" placeholder="you@example.com" required>

        <label for="reportDomain">Domain</label>
        <input id="reportDomain" type="text" placeholder="e.g. marketnews.ai" required>

        <button type="submit" class="primary-btn" style="width:100%;">Request My Report</button>
      </form>

      <div id="reportSuccess" class="success-msg" style="display:none;">
        ‚úÖ Your report request has been saved ‚Äî AI will process it shortly.
      </div>
    </div>
  </div>

  <!-- ============================================================= -->
  <!-- SCRIPTS -->
  <!-- ============================================================= -->
  <script src="engine.js"></script>

  <script>
  /* === THEME TOGGLE === */
  const toggleButton = document.getElementById("themeToggle");
  const currentTheme = localStorage.getItem("theme");
  if (currentTheme === "dark") {
    document.body.classList.add("dark-mode");
    toggleButton.textContent = "Light";
  }
  toggleButton.addEventListener("click", () => {
    document.body.classList.toggle("dark-mode");
    const isDark = document.body.classList.contains("dark-mode");
    toggleButton.textContent = isDark ? "Light" : "Dark";
    localStorage.setItem("theme", isDark ? "dark" : "light");
  });

  /* === SEARCH BAR WITH AI FEEDBACK === */
  document.getElementById('searchBtn').addEventListener('click', () => {
    const input = document.getElementById('domainInput').value.trim();
    const resultMsg = document.getElementById('searchResultMsg');
    const scoreButton = document.getElementById('scoreBtn');
    const searchBtn = document.getElementById('searchBtn');
    resultMsg.className = 'search-msg';

    if (!input) {
      resultMsg.textContent = "Please enter a domain or keyword.";
      resultMsg.classList.add('error');
      return;
    }

    engineButtonState(searchBtn, true);
    resultMsg.innerHTML = `üîç Searching for <strong>${input}</strong> ...`;
    resultMsg.classList.add('searching');

    setTimeout(() => {
      resultMsg.innerHTML = `‚úÖ <strong>${input}</strong> found on 5 registrars. Compare renewal & 3-year cost below ‚Üì`;
      resultMsg.classList.remove('searching');
      resultMsg.classList.add('success');
      engineButtonState(searchBtn, false);
      if (scoreButton) scoreButton.click();
    }, 1200);
  });

  /* === SCORING ENGINE + HISTORY === */
  const historyPanel = document.getElementById("historyPanel");
  const historyList = document.getElementById("historyList");
  const viewMode = document.getElementById("viewMode");
  let history = [];

  function addToHistory(domain, score) {
    history.unshift({ domain, score, view: viewMode.value, time: new Date().toLocaleTimeString() });
    if (history.length > 3) history.pop();
    renderHistory();
  }

  function renderHistory() {
    historyList.innerHTML = history.map(h => `<li><strong>${h.domain}</strong> ‚Äî ${h.score}/10 <em>(${h.view})</em></li>`).join("");
    historyPanel.style.display = history.length ? "block" : "none";
  }

  const scoreBtn = document.getElementById("scoreBtn");
  if (scoreBtn) {
    scoreBtn.addEventListener("click", () => {
      engineButtonState(scoreBtn, true);
      const domain = document.getElementById("scoreInput").value.trim();
      if (!domain) return;
      const score = (Math.random() * 2 + 8).toFixed(1);
      const mode = viewMode.value;
      const analysis = mode === "investor"
        ? `${domain} shows strong ROI potential and solid market liquidity.`
        : `${domain} is highly build-ready with excellent user-brand resonance.`;
      document.getElementById("scoreResult").innerHTML = `<div><strong>Score:</strong> ${score}/10</div><div>${analysis}</div>`;
      addToHistory(domain, score);
      setTimeout(() => engineButtonState(scoreBtn, false), 900);
    });
  }

  /* === ACTION PANEL BUTTONS === */
  document.getElementById("reportBtn").addEventListener("click", () => {
    document.getElementById("reportModal").style.display = "flex";
  });
  document.getElementById("buildBtn").addEventListener("click", () => {
    window.open("https://chat.openai.com/", "_blank");
  });
  document.getElementById("sellBtn").addEventListener("click", () => {
    alert("Listing integration coming soon ‚Äî connect with our partner brokers.");
  });

  /* === MODAL LOGIC === */
  const reportModal = document.getElementById("reportModal");
  const closeModal = document.getElementById("closeModal");
  const reportForm = document.getElementById("reportForm");
  const reportSuccess = document.getElementById("reportSuccess");
  const reportDomain = document.getElementById("reportDomain");

  closeModal.addEventListener("click", () => {
    reportModal.style.display = "none";
    reportForm.style.display = "block";
    reportSuccess.style.display = "none";
  });

  reportForm.addEventListener("submit", e => {
    e.preventDefault();
    reportForm.style.display = "none";
    reportSuccess.style.display = "block";
    setTimeout(() => (reportModal.style.display = "none"), 2200);
  });

  reportModal.addEventListener("click", e => {
    if (e.target === reportModal) closeModal.click();
  });
  </script>

  <!-- === ENGINE BUTTON STATE HANDLER === -->
  <script>
  function engineButtonState(btn, loading = true) {
    if (!btn) return;
    if (loading) {
      btn.classList.add("loading");
    } else {
      btn.classList.remove("loading");
      btn.classList.add("flash");
      setTimeout(() => btn.classList.remove("flash"), 900);
    }
  }
  </script>
  <script>
  // === Adaptive Depth Header Logic ===
  window.addEventListener("scroll", () => {
    const header = document.querySelector(".site-header");
    if (window.scrollY > 40) header.classList.add("scrolled");
    else header.classList.remove("scrolled");
  });
</script>
</body>
</html>
